% Identical to original template source by Aleksandr Mattal
% (qute.bits@gmail.com) at
% https://github.com/QuteBits/resume_42/template/resume.tmpl.tex
\documentclass[11pt,english]{article}

%===============================================================================
% Imports
%===============================================================================

\usepackage[
    a4paper,
    bindingoffset=0mm,
    left=20mm,
    right=18mm,
    top=17mm,
    bottom=12mm]{geometry}
\usepackage{blindtext}

\usepackage{hyperref,url}
\usepackage{xcolor}
\usepackage{fancyhdr}\pagestyle{fancy}\usepackage{lastpage}
\usepackage{enumitem}\setlist{nolistsep}
\usepackage{titlesec}
\usepackage{hyphenat}\hyphenation{Mathematica}

%===============================================================================
% Setup
%===============================================================================

\fancyhf{}\renewcommand{\headrulewidth}{0pt}
\rfoot{
    \fboxsep0pt
    \vspace{-18mm}\colorbox{maincolor}{\begin{minipage}[b][17mm][b]{11mm}
        \begin{center} \color{white} \thepage /\pageref*{LastPage} \end{center}
    \end{minipage}}
    \vspace{6mm}
}

\setlength{\itemsep}{0pt}
\setlength{\parskip}{0pt}
\setlength{\parsep}{0pt}
\setlength\parindent{0pt}
\setlength{\topskip}{0pt}

\titleformat*{\section}{\huge}

\renewcommand{\familydefault}{lmss}

%===============================================================================
% Document
%===============================================================================

\begin{document}

\definecolor{maincolor}{RGB}{118, 13, 112}
\definecolor{maingrey}{RGB}{150, 150, 150}

\begin{center}
    \huge\bf\color{maincolor} ~{{ name }}~  \\
    \small\color{black} \href{mailto: ~{{ email }}~ }{ ~{{ email }}~ }
\end{center}

\begin{flushright}
    \vspace{3.5mm}
    \tiny This resume was generated using ~{{ loc }}~ lines of very readable python\\
    \tiny from: \url{https://github.com/QuteBits/resume\_42/}\\
    \tiny and modified by \url{https://github.com/iolaszlo/yaml2latex} \\
    \tiny for extension to general purpose yaml2latex projects \\
    \tiny compiled on: ~{{ today }}~.
\end{flushright}

\vspace{-18mm}

%===============================================================================
% Document body
%===============================================================================

% Identical to original template source by Aleksandr Mattal
% (qute.bits@gmail.com) at
% https://github.com/QuteBits/resume_42

\medskip

\fontfamily{lmss}\selectfont

%\newgeometry{left=0mm, right=135mm}
\fboxsep0pt
\hspace{-20mm}\colorbox{maincolor}{\begin{minipage}[t][8mm][c]{75mm}
\hspace{20mm}\bfseries \color{white}  ~{{ section_name }}~
\end{minipage}}
\vspace{6mm}
%to restore old margins, use
%\restoregeometry

\begin{minipage}{\textwidth}

~{for section_name in section_names}~

~{ if section_name == "LIFE / EDUCATION" }~
  ~{ for experience in section_contents[section_name] }~
    \begin{tabular}{ @{} p{32mm} l @{} }
    {\small ~{{ experience.dates }}~} & {\small ~{{ experience.experience }}~}~{- if experience.location -}~ \small \hspace{1mm}- ~{{ experience.location }}~~{- endif -}~\\
    ~{- if experience.degree -}~
      & \small ~{{ experience.degree }}~.\\
    ~{- endif -}~
    ~{- if experience.grade -}~
      & \small \color{maingrey} Final grade: ~{{ experience.grade }}~\\
    ~{- endif -}~
    \end{tabular}
    \vspace{1mm}
  ~{ endfor }~
  %additional space
  \vspace{2mm}

~{ elif section_name == "WORK EXPERIENCE" }~
  ~{ for experience in section_contents[section_name] }~
    \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
    & \small ~{{ experience.place }}~ ~{- if experience.location -}~ \small \hspace{1mm}- ~{{ experience.location }}~~{- endif -}~\\
    \small ~{{ experience.dates }}~ & \bf\small ~{{ experience.title }}~ ~{- if experience.languages -}~\small\hspace{1mm}\bf\color{maincolor}(~{{ experience.languages }}~)~{- endif -}~\\
    ~{- if experience.details -}~
      ~{ for detail in experience.details }~
        & $\cdot$ \small ~{{ detail }}~ \\
      ~{ endfor }~
    ~{- endif -}~
    \end{tabular}
    \vspace{2mm}
  ~{ endfor }~
  %additional space
  \vspace{20mm}

~{ elif section_name == "RESEARCH EXPERIENCE" }~
  ~{ for research in section_contents[section_name] }~
    \begin{tabular}{ @{} p{32mm} p{135mm} @{} }

    \small \bf Field & \small ~{{ research.field }}~ \\
    \small \bf Title & \small ~{{ research.title }}~ \\
    \small \bf PDF (in English) & \small ~{{ research.link }}~ \\
    \small \bf Supervisor & \small ~{{ research.supervisor }}~ \\
    \small \bf Description & \small ~{{ research.description }}~ \\
    %\small \bf PDF Link & \small ~{{ research.link }}~ \\
    \small \bf \small \color{maingrey} Final grade: & \small \color{maingrey} ~{{ research.grade }}~ \\

    \end{tabular}
    \vspace{1mm}
  ~{ endfor }~
  %additional space
  \vspace{4mm}

~{ elif section_name == "ACHIEVEMENTS" }~
  ~{ for honor in section_contents[section_name] }~
    \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
    {~{{ honor.date }}~} & {\small ~{{ honor.honor }}~}
    \end{tabular}
    \vspace{1mm}
  ~{ endfor }~

~{ elif section_name == "HUMAN LANGUAGES" }~
  \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for language in section_contents[section_name] }~
    \bf {~{{ language.language }}~} & {\small ~{{ language.level }}~ ~{- if language.certified -}~ \small\color{maingrey}\hspace{1mm}(~{{ language.certified }}~)~{- endif -}~} \\
  ~{ endfor }~
  \end{tabular}
  %additional space
  \vspace{50mm}

~{ elif section_name == "PORTFOLIO" }~
  ~{ for portfolio in section_contents[section_name] }~
    {\bf ~{{ portfolio.section_name }}~ -- \color{maincolor}\url{~{{ portfolio.url }}~} }
    \vspace{1mm}
  ~{ endfor }~
  \vspace{5mm}

~{ elif section_name == "PERSONAL PROJECTS" }~
  ~{ for project in section_contents[section_name] }~
    {\small\bf ~{{ project.section_name }}~ ~{ if project.url }~ -- \color{maincolor}\url{~{{ project.url }}~} ~{ endif }~ }
    \vspace{1mm}
    ~{ if project.details -}~
    ~{ for detail in project.details }~
      $\cdot$ \small ~{{ detail }}~
    ~{ endfor }~
    ~{ endif }~
    \vspace{3mm}
  ~{ endfor }~
  \vspace{15mm}

~{ elif section_name == "TOOLS" }~
  \begin{tabular}{ @{} p{32mm} p{135mm} @{} }
  ~{ for tool in section_contents[section_name] }~
    \bf\small ~{{ tool.title }}~ & {\small ~{{ tool.details }}~} \\
  ~{ endfor }~
  \end{tabular}
  \vspace{10mm}
~{ else }~
  ~{{ section_contents[section_name] }}~
  \bigskip
~{ endif }~

~{endfor}~

\end{minipage}

\end{document}
